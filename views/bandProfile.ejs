<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='utf-8' />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.14.0/jquery-ui.min.js"></script>
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js'></script>
    <link rel="stylesheet" href="../../styles/styles.css"/>
    
</head>
<body>
    <a href="/"><img src="../../AcornAppLogo.svg" style="width: 10%;" class="mb-3"></a>
    <div>
        <h1><%= band.bandName %></h1>
        <p>Email: <%= band.contactEmail %></p>
        <p>Instagram: <a href="https://instagram.com/<%= band.instagram%>">@<%= band.instagram %></p></a>
        <p>Genre: <%= band.genre %></p>
        <p>Hometown: <%= band.homeTown %></p>
    </div>
    <div id="Show Calendar">
        <h2>Upcoming Shows</h2>
        <div id='upcomingShows'></div>
    </div>
</body>
<!-- End of MAIN HTML PAGE, CALENDAR SCRIPT BELOW -->

<script>
    document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('upcomingShows');
        var calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'listYear',
            timeZone:'America/Chicago',
            events: {
                url: '/events/getRange',
                extraParams: {
                    band: '<%=band.bandName%>'
                },
                failure: function() {
                    alert('there was an error while fetching events!');
                }
            },
            headerToolbar: {
                left:   '',
                center: 'title',
                right:  'prev,next'
            }
        });
        calendar.render();
    });
</script>

</html>

<!-- /*
bandName: String,
contactEmail: String,
instagram: String,
genre: String,
homeTown: String,
loginInfo: userSchema
*/ -->